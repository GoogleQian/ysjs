webpackJsonp([30],{"7g3d":function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r,l,n,s,i=t("Dd8w"),c=t.n(i),o=t("Xxa5"),u=t.n(o),p=t("exGp"),d=t.n(p),h=t("0N3M"),f=t("mw3O"),m=(r=d()(u.a.mark(function e(a){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.a)({url:"/filter/get_replace_plan",method:"post",data:f.stringify(c()({},a))});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)}),b=(l=d()(u.a.mark(function e(a){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.a)({url:"/filter/gen_replace_plan",method:"post",data:f.stringify(c()({},a))});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)}),_=(n=d()(u.a.mark(function e(a){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.a)({url:"/filter/replace_filter",method:"post",data:f.stringify(c()({},a))});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)})),s=d()(u.a.mark(function e(a){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.a)({url:"/filter/add_replace_time",method:"post",data:f.stringify(c()({},a))});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)})),{name:"filterWater",data:function(){return{tableData:[],table:{loading:!1},page:{currentPage:1,pageSize:10,totalItem:1},searchParams:{},months:[{value:"01",label:1},{value:"02",label:2},{value:"03",label:3},{value:"04",label:4},{value:"05",label:5},{value:"06",label:6},{value:"07",label:7},{value:"08",label:8},{value:"09",label:9},{value:"10",label:10},{value:"11",label:11},{value:"12",label:12}]}},methods:{getList:function(){var e=this;this.table.loading=!0;var a=c()({service_id:1,key:"abc",page:this.page.currentPage,page_size:this.page.pageSize},this.searchParams);m(a).then(function(a){e.table.loading=!1,e.tableData=a.data.datas.list,e.page.currentPage=a.data.datas.cur_page,e.page.totalItem=a.data.datas.itemCounts})},addPlan:function(){var e=this;b({service_id:1,key:"abc"}).then(function(a){0==a.data.ret?(e.$message({message:"操作成功",type:"success"}),e.dosearch()):e.$message({message:"操作失败",type:"error"})})},handleSizeChange:function(e){this.page.pageSize=e,this.getList()},handleCurrentChange:function(e){this.page.currentPage=e,this.getList()},dosearch:function(){this.getList()}},created:function(){this.getList();for(var e=0;e<9;e++)this.tableData.push(this.tableData[0])}}),v={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"filter"},[t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchParams}},[t("el-form-item",{attrs:{label:"设备编号"}},[t("el-input",{attrs:{placeholder:"设备编号"},model:{value:e.searchParams.device_id,callback:function(a){e.$set(e.searchParams,"device_id",a)},expression:"searchParams.device_id"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"年份"}},[t("div",{staticClass:"block"},[t("el-date-picker",{attrs:{type:"year",placeholder:"选择年","value-format":"yyyy"},model:{value:e.searchParams.year,callback:function(a){e.$set(e.searchParams,"year",a)},expression:"searchParams.year"}})],1)]),e._v(" "),t("el-form-item",{attrs:{label:"月份"}},[t("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.searchParams.month,callback:function(a){e.$set(e.searchParams,"month",a)},expression:"searchParams.month"}},e._l(e.months,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"更换状态"}},[t("el-select",{attrs:{placeholder:"更换状态",clearable:""},model:{value:e.searchParams.replace_status,callback:function(a){e.$set(e.searchParams,"replace_status",a)},expression:"searchParams.replace_status"}},[t("el-option",{attrs:{label:"已完成",value:1}}),e._v(" "),t("el-option",{attrs:{label:"未完成",value:0}})],1)],1),e._v(" "),t("el-form-item",[t("el-button",{on:{click:e.getList}},[e._v("查询")])],1),e._v(" "),t("el-form-item",{staticStyle:{float:"right"}},[t("el-button",{attrs:{type:"success"},on:{click:e.addPlan}},[e._v("生成")])],1)],1),e._v(" "),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticClass:"table",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",height:"442"}},[t("el-table-column",{attrs:{prop:"customer",label:"客户",width:"80"}}),e._v(" "),t("el-table-column",{attrs:{prop:"device_id",label:"设备号",width:"150"}}),e._v(" "),t("el-table-column",{attrs:{prop:"plan_replace_time",label:"计划更换日期",width:"100"}}),e._v(" "),t("el-table-column",{attrs:{prop:"real_replace_time",label:"实际更换时间",width:"100"}}),e._v(" "),t("el-table-column",{attrs:{label:"PP棉",width:"100"},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v("\n        "+e._s(0==a.row.replace_first_filter?"待更换":"已更换")+"\n      ")]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"replace_second_filter",label:"椰壳炭",width:"100"},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v("\n        "+e._s(0==a.row.replace_second_filter?"待更换":"已更换")+"\n      ")]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"replace_third_filter",label:"RO膜",width:"100"},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v("\n        "+e._s(0==a.row.replace_third_filter?"待更换":"已更换")+"\n      ")]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"replace_fourth_filter",label:"后置碳",width:"100"},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v("\n        "+e._s(0==a.row.replace_fourth_filter?"待更换":"已更换")+"\n      ")]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"address",label:"安装地址"}}),e._v(" "),t("el-table-column",{attrs:{prop:"repairer",label:"安装人",width:"100"}}),e._v(" "),t("el-table-column",{attrs:{prop:"repairer_phone_number",label:"安装人手机",width:"100"}}),e._v(" "),t("el-table-column",{attrs:{prop:"remark",label:"备注",width:"100"}}),e._v(" "),t("el-table-column",{attrs:{label:"计划执行状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v("\n        "+e._s(0==a.row.replace_finshed?"已更换":"未更换")+"\n      ")]}}])})],1),e._v(" "),t("div",{staticStyle:{"margin-top":"20px"}},[t("el-pagination",{attrs:{"current-page":e.page.currentPage,"page-sizes":[10,20,30,40],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.page.totalItem},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var g=t("VU/8")(_,v,!1,function(e){t("J2G0")},"data-v-7e35a4f2",null);a.default=g.exports},J2G0:function(e,a){}});