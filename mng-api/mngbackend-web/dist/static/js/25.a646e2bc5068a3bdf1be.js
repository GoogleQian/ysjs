webpackJsonp([25],{"/uz6":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("MEs8"),c={data:function(){return{state:null,machine_status:null}},created:function(){this.getModel()},mounted:function(){this.machine_status=this.$route.query.machine_status},methods:{getModel:function(){var t=this;Object(n.c)({devId:this.$route.query.id}).then(function(e){0===e.data.ret?(t.type=e.data.datas.type,t.state=e.data.datas.type):t.$alert(e.data.msg,"提示",{confirmButtonText:"确定",type:"error"})})},machine_statusChange:function(t){var e=this;Object(n.b)({machineStatus:t,devId:this.$route.query.id}).then(function(t){0===t.data.ret?e.$message({message:"下发成功",type:"success"}):e.$message({message:t.data.msg,type:"error"})}).catch(function(){e.$message({message:"请求出错",type:"error"})})},command:function(t){var e=this;void 0!=this.state?this.$confirm("确定下发"+t+"命令？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){switch(t){case"手动换水":e.changeWater();break;case"手动消毒":e.manualClean();break;case"手动冲洗":e.wash();break;case"手动复位净水量":e.resetWater()}}).catch(function(){e.$message({type:"info",message:"已取消"})}):this.$alert("未获取到设备机型无法下发命令","提示",{confirmButtonText:"确定"})},changeWater:function(){var t=this;Object(n.a)({devId:this.$route.query.id,state:this.state}).then(function(e){console.log(e),0===e.data.ret?t.$alert("下发成功","提示",{confirmButtonText:"确定",type:"success"}):t.$alert(e.data.msg,"提示",{confirmButtonText:"确定",type:"error"})}).catch(function(){t.$alert("请求出错","提示",{confirmButtonText:"确定",type:"error"})})},manualClean:function(){var t=this;Object(n.g)({devId:this.$route.query.id,state:this.state}).then(function(e){0===e.data.ret?t.$alert("下发成功","提示",{confirmButtonText:"确定",type:"success"}):t.$alert(e.data.msg,"提示",{confirmButtonText:"确定",type:"error"})}).catch(function(){t.$alert("请求出错","提示",{confirmButtonText:"确定",type:"error"})})},wash:function(){var t=this;Object(n.n)({devId:this.$route.query.id,state:this.state}).then(function(e){0===e.data.ret?t.$alert("下发成功","提示",{confirmButtonText:"确定",type:"success"}):t.$alert(e.data.msg,"提示",{confirmButtonText:"确定",type:"error"})}).catch(function(){t.$alert("请求出错","提示",{confirmButtonText:"确定",type:"error"})})},resetWater:function(){var t=this;Object(n.i)({devId:this.$route.query.id,state:this.state}).then(function(e){0===e.data.ret?t.$alert("下发成功","提示",{confirmButtonText:"确定",type:"success"}):t.$alert(e.data.msg,"提示",{confirmButtonText:"确定",type:"error"})}).catch(function(){t.$alert("请求出错","提示",{confirmButtonText:"确定",type:"error"})})}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dev-ctrl"},[a("p",{staticStyle:{"margin-bottom":"10px"}},[t._v("\n    设备编号："+t._s(t.$route.query.device_id)+"\n  ")]),t._v(" "),a("p",{staticStyle:{margin:"10px 0","padding-top":"10px","border-top":"1px solid #eee"}}),t._v(" "),a("div",{staticClass:"btnBox"},[a("div",[a("el-button",{staticStyle:{width:"116px"},on:{click:function(e){t.command("手动换水")}}},[t._v("手动换水")])],1),t._v(" "),a("div",[a("el-button",{staticStyle:{width:"116px"},on:{click:function(e){t.command("手动消毒")}}},[t._v("手动消毒")])],1),t._v(" "),a("div",[a("el-button",{staticStyle:{width:"116px"},on:{click:function(e){t.command("手动冲洗")}}},[t._v("手动冲洗")])],1),t._v(" "),a("div",[a("el-button",{staticStyle:{width:"116px"},on:{click:function(e){t.command("手动复位净水量")}}},[t._v("手动复位净水量")])],1),t._v(" "),a("div",[t._v("\n      手动开关机：\n      "),a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":0,"inactive-value":1},on:{change:t.machine_statusChange},model:{value:t.machine_status,callback:function(e){t.machine_status=e},expression:"machine_status"}})],1)])])},staticRenderFns:[]};var s=a("VU/8")(c,i,!1,function(t){a("bk66")},"data-v-e7fdbdde",null);e.default=s.exports},bk66:function(t,e){}});